{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction postMultipart(_x, _x2, _x3) {\n  return _postMultipart.apply(this, arguments);\n}\nfunction _postMultipart() {\n  _postMultipart = _asyncToGenerator(function* (path, formData, token) {\n    var headers = {};\n    if (token) headers[\"Authorization\"] = `Bearer ${token}`;\n    var controller = new AbortController();\n    var timeout = setTimeout(function () {\n      return controller.abort();\n    }, 10000);\n    try {\n      var plainHeaders = {};\n      for (var k in headers) {\n        if (Object.prototype.hasOwnProperty.call(headers, k)) {\n          plainHeaders[k] = headers[k];\n        }\n      }\n      var fetchOptions = {\n        method: \"POST\",\n        body: formData,\n        signal: controller.signal\n      };\n      if (Object.keys(plainHeaders).length > 0) {\n        fetchOptions.headers = plainHeaders;\n      }\n      var res = yield fetch(API_URL + path, fetchOptions);\n      clearTimeout(timeout);\n      var text = yield res.text();\n      var data;\n      try {\n        data = JSON.parse(text);\n      } catch (e) {\n        data = text;\n      }\n      if (!res.ok) throw new Error(data.message || \"API Error\");\n      return data;\n    } catch (error) {\n      clearTimeout(timeout);\n      if (error.name === \"AbortError\") {\n        throw new Error(\"Request timeout - is the backend running?\");\n      }\n      throw error;\n    }\n  });\n  return _postMultipart.apply(this, arguments);\n}\nfunction get(_x4) {\n  return _get.apply(this, arguments);\n}\nfunction _get() {\n  _get = _asyncToGenerator(function* (path) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return api(path, _objectSpread(_objectSpread({}, options), {}, {\n      method: \"GET\"\n    }));\n  });\n  return _get.apply(this, arguments);\n}\nvar client = Object.assign(api, {\n  get: get,\n  postMultipart: postMultipart\n});\nexport { client, postMultipart, api };\nexport default client;\nexport var API_URL = \"http://localhost:5000\";\nfunction api(_x5) {\n  return _api.apply(this, arguments);\n}\nfunction _api() {\n  _api = _asyncToGenerator(function* (path) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var token = global.authToken || null;\n    var headers = options.headers || {};\n    if (token) headers[\"Authorization\"] = `Bearer ${token}`;\n    if (!(options.body instanceof FormData)) headers[\"Content-Type\"] = \"application/json\";\n    var controller = new AbortController();\n    var timeout = setTimeout(function () {\n      return controller.abort();\n    }, 10000);\n    try {\n      var res = yield fetch(API_URL + path, _objectSpread(_objectSpread({}, options), {}, {\n        headers: headers,\n        signal: controller.signal\n      }));\n      clearTimeout(timeout);\n      var text = yield res.text();\n      var data;\n      try {\n        data = JSON.parse(text);\n      } catch (e) {\n        data = text;\n      }\n      if (!res.ok) {\n        throw new Error(data.message || \"API Error\");\n      }\n      return data;\n    } catch (error) {\n      clearTimeout(timeout);\n      if (error.name === \"AbortError\") {\n        throw new Error(\"Request timeout - is the backend running?\");\n      }\n      throw error;\n    }\n  });\n  return _api.apply(this, arguments);\n}","map":{"version":3,"names":["postMultipart","_x","_x2","_x3","_postMultipart","apply","arguments","_asyncToGenerator","path","formData","token","headers","controller","AbortController","timeout","setTimeout","abort","plainHeaders","k","Object","prototype","hasOwnProperty","call","fetchOptions","method","body","signal","keys","length","res","fetch","API_URL","clearTimeout","text","data","JSON","parse","e","ok","Error","message","error","name","get","_x4","_get","options","undefined","api","_objectSpread","client","assign","_x5","_api","global","authToken","FormData"],"sources":["C:/GrowPathAI-UI/src/api/client.js"],"sourcesContent":["// Helper for multipart/form-data POST\nasync function postMultipart(path, formData, token) {\n  const headers = {};\n  if (token) headers[\"Authorization\"] = `Bearer ${token}`;\n  // Do NOT set Content-Type for FormData, let fetch/browser set it\n  const controller = new AbortController();\n  const timeout = setTimeout(() => controller.abort(), 10000);\n  try {\n    // Always use a plain object for headers\n    const plainHeaders = {};\n    for (const k in headers) {\n      if (Object.prototype.hasOwnProperty.call(headers, k)) {\n        plainHeaders[k] = headers[k];\n      }\n    }\n    const fetchOptions = {\n      method: \"POST\",\n      body: formData,\n      signal: controller.signal\n    };\n    if (Object.keys(plainHeaders).length > 0) {\n      fetchOptions.headers = plainHeaders;\n    }\n    const res = await fetch(API_URL + path, fetchOptions);\n    clearTimeout(timeout);\n    const text = await res.text();\n    let data;\n    try {\n      data = JSON.parse(text);\n    } catch (e) {\n      data = text;\n    }\n    if (!res.ok) throw new Error(data.message || \"API Error\");\n    return data;\n  } catch (error) {\n    clearTimeout(timeout);\n    if (error.name === \"AbortError\") {\n      throw new Error(\"Request timeout - is the backend running?\");\n    }\n    throw error;\n  }\n}\n\nasync function get(path, options = {}) {\n  return api(path, { ...options, method: \"GET\" });\n}\n\nconst client = Object.assign(api, { get, postMultipart });\nexport { client, postMultipart, api };\nexport default client;\nexport const API_URL = \"http://localhost:5000\";\n// For local development, change to: http://localhost:5000\n// For local network testing on device, use your computer's IP (e.g., http://192.168.1.42:5000)\n// Get IP: Windows (ipconfig) or Mac (ifconfig | grep inet)\n\nasync function api(path, options = {}) {\n  const token = global.authToken || null;\n\n  const headers = options.headers || {};\n  if (token) headers[\"Authorization\"] = `Bearer ${token}`;\n  if (!(options.body instanceof FormData)) headers[\"Content-Type\"] = \"application/json\";\n\n  const controller = new AbortController();\n  const timeout = setTimeout(() => controller.abort(), 10000); // 10s timeout\n\n  try {\n    const res = await fetch(API_URL + path, {\n      ...options,\n      headers,\n      signal: controller.signal\n    });\n\n    clearTimeout(timeout);\n\n    const text = await res.text();\n\n    let data;\n    try {\n      data = JSON.parse(text);\n    } catch (e) {\n      data = text;\n    }\n\n    if (!res.ok) {\n      throw new Error(data.message || \"API Error\");\n    }\n\n    return data;\n  } catch (error) {\n    clearTimeout(timeout);\n    if (error.name === \"AbortError\") {\n      throw new Error(\"Request timeout - is the backend running?\");\n    }\n    throw error;\n  }\n}\n"],"mappings":";;;;SACeA,aAAaA,CAAAC,EAAA,EAAAC,GAAA,EAAAC,GAAA;EAAA,OAAAC,cAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,eAAA;EAAAA,cAAA,GAAAG,iBAAA,CAA5B,WAA6BC,IAAI,EAAEC,QAAQ,EAAEC,KAAK,EAAE;IAClD,IAAMC,OAAO,GAAG,CAAC,CAAC;IAClB,IAAID,KAAK,EAAEC,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUD,KAAK,EAAE;IAEvD,IAAME,UAAU,GAAG,IAAIC,eAAe,CAAC,CAAC;IACxC,IAAMC,OAAO,GAAGC,UAAU,CAAC;MAAA,OAAMH,UAAU,CAACI,KAAK,CAAC,CAAC;IAAA,GAAE,KAAK,CAAC;IAC3D,IAAI;MAEF,IAAMC,YAAY,GAAG,CAAC,CAAC;MACvB,KAAK,IAAMC,CAAC,IAAIP,OAAO,EAAE;QACvB,IAAIQ,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACX,OAAO,EAAEO,CAAC,CAAC,EAAE;UACpDD,YAAY,CAACC,CAAC,CAAC,GAAGP,OAAO,CAACO,CAAC,CAAC;QAC9B;MACF;MACA,IAAMK,YAAY,GAAG;QACnBC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEhB,QAAQ;QACdiB,MAAM,EAAEd,UAAU,CAACc;MACrB,CAAC;MACD,IAAIP,MAAM,CAACQ,IAAI,CAACV,YAAY,CAAC,CAACW,MAAM,GAAG,CAAC,EAAE;QACxCL,YAAY,CAACZ,OAAO,GAAGM,YAAY;MACrC;MACA,IAAMY,GAAG,SAASC,KAAK,CAACC,OAAO,GAAGvB,IAAI,EAAEe,YAAY,CAAC;MACrDS,YAAY,CAAClB,OAAO,CAAC;MACrB,IAAMmB,IAAI,SAASJ,GAAG,CAACI,IAAI,CAAC,CAAC;MAC7B,IAAIC,IAAI;MACR,IAAI;QACFA,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACH,IAAI,CAAC;MACzB,CAAC,CAAC,OAAOI,CAAC,EAAE;QACVH,IAAI,GAAGD,IAAI;MACb;MACA,IAAI,CAACJ,GAAG,CAACS,EAAE,EAAE,MAAM,IAAIC,KAAK,CAACL,IAAI,CAACM,OAAO,IAAI,WAAW,CAAC;MACzD,OAAON,IAAI;IACb,CAAC,CAAC,OAAOO,KAAK,EAAE;MACdT,YAAY,CAAClB,OAAO,CAAC;MACrB,IAAI2B,KAAK,CAACC,IAAI,KAAK,YAAY,EAAE;QAC/B,MAAM,IAAIH,KAAK,CAAC,2CAA2C,CAAC;MAC9D;MACA,MAAME,KAAK;IACb;EACF,CAAC;EAAA,OAAArC,cAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAEcqC,GAAGA,CAAAC,GAAA;EAAA,OAAAC,IAAA,CAAAxC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAuC,KAAA;EAAAA,IAAA,GAAAtC,iBAAA,CAAlB,WAAmBC,IAAI,EAAgB;IAAA,IAAdsC,OAAO,GAAAxC,SAAA,CAAAsB,MAAA,QAAAtB,SAAA,QAAAyC,SAAA,GAAAzC,SAAA,MAAG,CAAC,CAAC;IACnC,OAAO0C,GAAG,CAACxC,IAAI,EAAAyC,aAAA,CAAAA,aAAA,KAAOH,OAAO;MAAEtB,MAAM,EAAE;IAAK,EAAE,CAAC;EACjD,CAAC;EAAA,OAAAqB,IAAA,CAAAxC,KAAA,OAAAC,SAAA;AAAA;AAED,IAAM4C,MAAM,GAAG/B,MAAM,CAACgC,MAAM,CAACH,GAAG,EAAE;EAAEL,GAAG,EAAHA,GAAG;EAAE3C,aAAa,EAAbA;AAAc,CAAC,CAAC;AACzD,SAASkD,MAAM,EAAElD,aAAa,EAAEgD,GAAG;AACnC,eAAeE,MAAM;AACrB,OAAO,IAAMnB,OAAO,GAAG,uBAAuB;AAAC,SAKhCiB,GAAGA,CAAAI,GAAA;EAAA,OAAAC,IAAA,CAAAhD,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAA+C,KAAA;EAAAA,IAAA,GAAA9C,iBAAA,CAAlB,WAAmBC,IAAI,EAAgB;IAAA,IAAdsC,OAAO,GAAAxC,SAAA,CAAAsB,MAAA,QAAAtB,SAAA,QAAAyC,SAAA,GAAAzC,SAAA,MAAG,CAAC,CAAC;IACnC,IAAMI,KAAK,GAAG4C,MAAM,CAACC,SAAS,IAAI,IAAI;IAEtC,IAAM5C,OAAO,GAAGmC,OAAO,CAACnC,OAAO,IAAI,CAAC,CAAC;IACrC,IAAID,KAAK,EAAEC,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUD,KAAK,EAAE;IACvD,IAAI,EAAEoC,OAAO,CAACrB,IAAI,YAAY+B,QAAQ,CAAC,EAAE7C,OAAO,CAAC,cAAc,CAAC,GAAG,kBAAkB;IAErF,IAAMC,UAAU,GAAG,IAAIC,eAAe,CAAC,CAAC;IACxC,IAAMC,OAAO,GAAGC,UAAU,CAAC;MAAA,OAAMH,UAAU,CAACI,KAAK,CAAC,CAAC;IAAA,GAAE,KAAK,CAAC;IAE3D,IAAI;MACF,IAAMa,GAAG,SAASC,KAAK,CAACC,OAAO,GAAGvB,IAAI,EAAAyC,aAAA,CAAAA,aAAA,KACjCH,OAAO;QACVnC,OAAO,EAAPA,OAAO;QACPe,MAAM,EAAEd,UAAU,CAACc;MAAM,EAC1B,CAAC;MAEFM,YAAY,CAAClB,OAAO,CAAC;MAErB,IAAMmB,IAAI,SAASJ,GAAG,CAACI,IAAI,CAAC,CAAC;MAE7B,IAAIC,IAAI;MACR,IAAI;QACFA,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACH,IAAI,CAAC;MACzB,CAAC,CAAC,OAAOI,CAAC,EAAE;QACVH,IAAI,GAAGD,IAAI;MACb;MAEA,IAAI,CAACJ,GAAG,CAACS,EAAE,EAAE;QACX,MAAM,IAAIC,KAAK,CAACL,IAAI,CAACM,OAAO,IAAI,WAAW,CAAC;MAC9C;MAEA,OAAON,IAAI;IACb,CAAC,CAAC,OAAOO,KAAK,EAAE;MACdT,YAAY,CAAClB,OAAO,CAAC;MACrB,IAAI2B,KAAK,CAACC,IAAI,KAAK,YAAY,EAAE;QAC/B,MAAM,IAAIH,KAAK,CAAC,2CAA2C,CAAC;MAC9D;MACA,MAAME,KAAK;IACb;EACF,CAAC;EAAA,OAAAY,IAAA,CAAAhD,KAAA,OAAAC,SAAA;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}