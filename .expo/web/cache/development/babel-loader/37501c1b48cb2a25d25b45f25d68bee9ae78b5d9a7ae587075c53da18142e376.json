{"ast":null,"code":"export var requirePro = function requirePro(navigation, isPro, action) {\n  if (!isPro) {\n    navigation.navigate('Paywall');\n    return;\n  }\n  action();\n};\nexport var isPro403Error = function isPro403Error(error) {\n  var _error$response, _error$response2, _error$response2$data, _error$response2$data2;\n  return ((_error$response = error.response) == null ? void 0 : _error$response.status) === 403 && ((_error$response2 = error.response) == null ? void 0 : (_error$response2$data = _error$response2.data) == null ? void 0 : (_error$response2$data2 = _error$response2$data.message) == null ? void 0 : _error$response2$data2.includes('PRO'));\n};\nexport var handleApiError = function handleApiError(error, navigation) {\n  if (isPro403Error(error)) {\n    navigation.navigate('Paywall');\n    return true;\n  }\n  return false;\n};","map":{"version":3,"names":["requirePro","navigation","isPro","action","navigate","isPro403Error","error","_error$response","_error$response2","_error$response2$data","_error$response2$data2","response","status","data","message","includes","handleApiError"],"sources":["C:/GrowPathAI-UI/src/utils/proHelper.js"],"sourcesContent":["// Frontend utility for PRO feature gating\r\n// Call this before executing PRO-only actions\r\n\r\nexport const requirePro = (navigation, isPro, action) => {\r\n  if (!isPro) {\r\n    navigation.navigate('Paywall');\r\n    return;\r\n  }\r\n  action();\r\n};\r\n\r\n// Check if error is 403 PRO-required response\r\nexport const isPro403Error = (error) => {\r\n  return error.response?.status === 403 && \r\n         error.response?.data?.message?.includes('PRO');\r\n};\r\n\r\n// Handle API errors with automatic paywall redirect\r\nexport const handleApiError = (error, navigation) => {\r\n  if (isPro403Error(error)) {\r\n    navigation.navigate('Paywall');\r\n    return true; // Handled\r\n  }\r\n  return false; // Not handled, let caller handle\r\n};\r\n"],"mappings":"AAGA,OAAO,IAAMA,UAAU,GAAG,SAAbA,UAAUA,CAAIC,UAAU,EAAEC,KAAK,EAAEC,MAAM,EAAK;EACvD,IAAI,CAACD,KAAK,EAAE;IACVD,UAAU,CAACG,QAAQ,CAAC,SAAS,CAAC;IAC9B;EACF;EACAD,MAAM,CAAC,CAAC;AACV,CAAC;AAGD,OAAO,IAAME,aAAa,GAAG,SAAhBA,aAAaA,CAAIC,KAAK,EAAK;EAAA,IAAAC,eAAA,EAAAC,gBAAA,EAAAC,qBAAA,EAAAC,sBAAA;EACtC,OAAO,EAAAH,eAAA,GAAAD,KAAK,CAACK,QAAQ,qBAAdJ,eAAA,CAAgBK,MAAM,MAAK,GAAG,MAAAJ,gBAAA,GAC9BF,KAAK,CAACK,QAAQ,sBAAAF,qBAAA,GAAdD,gBAAA,CAAgBK,IAAI,sBAAAH,sBAAA,GAApBD,qBAAA,CAAsBK,OAAO,qBAA7BJ,sBAAA,CAA+BK,QAAQ,CAAC,KAAK,CAAC;AACvD,CAAC;AAGD,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAIV,KAAK,EAAEL,UAAU,EAAK;EACnD,IAAII,aAAa,CAACC,KAAK,CAAC,EAAE;IACxBL,UAAU,CAACG,QAAQ,CAAC,SAAS,CAAC;IAC9B,OAAO,IAAI;EACb;EACA,OAAO,KAAK;AACd,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}