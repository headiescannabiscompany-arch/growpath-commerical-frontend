{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { getTokenBalance } from \"../api/tokens\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function TokenBalanceWidget(_ref) {\n  var onPress = _ref.onPress;\n  var _useAuth = useAuth(),\n    isPro = _useAuth.isPro;\n  var navigation = useNavigation();\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    balance = _useState2[0],\n    setBalance = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  useEffect(function () {\n    load();\n  }, []);\n  function load() {\n    return _load.apply(this, arguments);\n  }\n  function _load() {\n    _load = _asyncToGenerator(function* () {\n      try {\n        var res = yield getTokenBalance();\n        setBalance(res.data || res);\n        setLoading(false);\n      } catch (err) {\n        console.error(\"Failed to load token balance:\", err);\n        setLoading(false);\n      }\n    });\n    return _load.apply(this, arguments);\n  }\n  function showTokenInfo() {\n    var message = isPro ? `You have ${(balance == null ? void 0 : balance.aiTokens) || 0} AI tokens.\\n\\nPro users get 100 tokens daily.\\n\\nâ€¢ AI Diagnose: 1-2 tokens\\nâ€¢ Training Advisor: 1 token\\nâ€¢ Environment Assistant: 1 token` : `You have ${(balance == null ? void 0 : balance.aiTokens) || 0} AI tokens.\\n\\nFree users get 10 tokens weekly.\\n\\nâ€¢ AI Diagnose: 1-2 tokens\\nâ€¢ Training Advisor: 1 token\\nâ€¢ Environment Assistant: 1 token\\n\\nUpgrade to Pro for 100 daily tokens!`;\n    Alert.alert(\"ðŸ¤– AI Tokens\", message);\n  }\n  if (loading || !balance) return null;\n  var percentage = balance.aiTokens / balance.maxTokens * 100;\n  var isLow = percentage < 30;\n  return _jsxs(TouchableOpacity, {\n    style: [styles.container, isLow && styles.containerLow],\n    onPress: onPress || function () {\n      return navigation.navigate(\"TokenInfo\");\n    },\n    children: [_jsx(View, {\n      style: styles.iconContainer,\n      children: _jsx(Text, {\n        style: styles.icon,\n        children: \"\\uD83E\\uDD16\"\n      })\n    }), _jsxs(View, {\n      style: styles.content,\n      children: [_jsx(Text, {\n        style: styles.label,\n        children: \"AI Tokens\"\n      }), _jsxs(Text, {\n        style: styles.balance,\n        children: [balance.aiTokens, \" / \", balance.maxTokens]\n      })]\n    }), _jsx(View, {\n      style: styles.barContainer,\n      children: _jsx(View, {\n        style: [styles.bar, {\n          width: `${percentage}%`\n        }, isLow && styles.barLow]\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    backgroundColor: \"#f8f9fa\",\n    borderRadius: 12,\n    padding: 12,\n    marginVertical: 8,\n    borderWidth: 2,\n    borderColor: \"#27ae60\"\n  },\n  containerLow: {\n    borderColor: \"#e74c3c\",\n    backgroundColor: \"#fee\"\n  },\n  iconContainer: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    backgroundColor: \"#e8f5e9\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginRight: 12\n  },\n  icon: {\n    fontSize: 20\n  },\n  content: {\n    flex: 1\n  },\n  label: {\n    fontSize: 14,\n    color: \"#7f8c8d\",\n    marginBottom: 4\n  },\n  balance: {\n    fontSize: 18,\n    fontWeight: \"700\",\n    color: \"#2c3e50\"\n  },\n  barContainer: {\n    width: 80,\n    height: 8,\n    backgroundColor: \"#e0e0e0\",\n    borderRadius: 4,\n    overflow: \"hidden\",\n    marginLeft: 12\n  },\n  bar: {\n    height: \"100%\",\n    backgroundColor: \"#27ae60\",\n    borderRadius: 4\n  },\n  barLow: {\n    backgroundColor: \"#e74c3c\"\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","View","Text","TouchableOpacity","StyleSheet","Alert","useNavigation","getTokenBalance","useAuth","jsx","_jsx","jsxs","_jsxs","TokenBalanceWidget","_ref","onPress","_useAuth","isPro","navigation","_useState","_useState2","_slicedToArray","balance","setBalance","_useState3","_useState4","loading","setLoading","load","_load","apply","arguments","_asyncToGenerator","res","data","err","console","error","showTokenInfo","message","aiTokens","alert","percentage","maxTokens","isLow","style","styles","container","containerLow","navigate","children","iconContainer","icon","content","label","barContainer","bar","width","barLow","create","flexDirection","alignItems","backgroundColor","borderRadius","padding","marginVertical","borderWidth","borderColor","height","justifyContent","marginRight","fontSize","flex","color","marginBottom","fontWeight","overflow","marginLeft"],"sources":["C:/GrowPathAI-UI/src/components/TokenBalanceWidget.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { View, Text, TouchableOpacity, StyleSheet, Alert } from \"react-native\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { getTokenBalance } from \"../api/tokens\";\nimport { useAuth } from \"../context/AuthContext\";\n\nexport default function TokenBalanceWidget({ onPress }) {\n  const { isPro } = useAuth();\n  const navigation = useNavigation();\n  const [balance, setBalance] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    load();\n  }, []);\n\n  async function load() {\n    try {\n      const res = await getTokenBalance();\n      setBalance(res.data || res);\n      setLoading(false);\n    } catch (err) {\n      console.error(\"Failed to load token balance:\", err);\n      setLoading(false);\n    }\n  }\n\n  function showTokenInfo() {\n    const message = isPro\n      ? `You have ${balance?.aiTokens || 0} AI tokens.\\n\\nPro users get 100 tokens daily.\\n\\nâ€¢ AI Diagnose: 1-2 tokens\\nâ€¢ Training Advisor: 1 token\\nâ€¢ Environment Assistant: 1 token`\n      : `You have ${balance?.aiTokens || 0} AI tokens.\\n\\nFree users get 10 tokens weekly.\\n\\nâ€¢ AI Diagnose: 1-2 tokens\\nâ€¢ Training Advisor: 1 token\\nâ€¢ Environment Assistant: 1 token\\n\\nUpgrade to Pro for 100 daily tokens!`;\n\n    Alert.alert(\"ðŸ¤– AI Tokens\", message);\n  }\n\n  if (loading || !balance) return null;\n\n  const percentage = (balance.aiTokens / balance.maxTokens) * 100;\n  const isLow = percentage < 30;\n\n  return (\n    <TouchableOpacity\n      style={[styles.container, isLow && styles.containerLow]}\n      onPress={onPress || (() => navigation.navigate(\"TokenInfo\"))}\n    >\n      <View style={styles.iconContainer}>\n        <Text style={styles.icon}>ðŸ¤–</Text>\n      </View>\n      <View style={styles.content}>\n        <Text style={styles.label}>AI Tokens</Text>\n        <Text style={styles.balance}>\n          {balance.aiTokens} / {balance.maxTokens}\n        </Text>\n      </View>\n      <View style={styles.barContainer}>\n        <View style={[styles.bar, { width: `${percentage}%` }, isLow && styles.barLow]} />\n      </View>\n    </TouchableOpacity>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    backgroundColor: \"#f8f9fa\",\n    borderRadius: 12,\n    padding: 12,\n    marginVertical: 8,\n    borderWidth: 2,\n    borderColor: \"#27ae60\"\n  },\n  containerLow: {\n    borderColor: \"#e74c3c\",\n    backgroundColor: \"#fee\"\n  },\n  iconContainer: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    backgroundColor: \"#e8f5e9\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginRight: 12\n  },\n  icon: {\n    fontSize: 20\n  },\n  content: {\n    flex: 1\n  },\n  label: {\n    fontSize: 14,\n    color: \"#7f8c8d\",\n    marginBottom: 4\n  },\n  balance: {\n    fontSize: 18,\n    fontWeight: \"700\",\n    color: \"#2c3e50\"\n  },\n  barContainer: {\n    width: 80,\n    height: 8,\n    backgroundColor: \"#e0e0e0\",\n    borderRadius: 4,\n    overflow: \"hidden\",\n    marginLeft: 12\n  },\n  bar: {\n    height: \"100%\",\n    backgroundColor: \"#27ae60\",\n    borderRadius: 4\n  },\n  barLow: {\n    backgroundColor: \"#e74c3c\"\n  }\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}