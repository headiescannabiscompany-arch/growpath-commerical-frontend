{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScreenContainer from \"../components/ScreenContainer.js\";\nimport { createCustomTask } from \"../api/tasks.js\";\nimport { getPlants } from \"../api/plants.js\";\nimport { useAuth } from \"../context/AuthContext.js\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function CreateTaskScreen(_ref) {\n  var _route$params;\n  var route = _ref.route;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    plants = _useState2[0],\n    setPlants = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    plantId = _useState4[0],\n    setPlantId = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    title = _useState6[0],\n    setTitle = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    desc = _useState8[0],\n    setDesc = _useState8[1];\n  var _useState9 = useState((route == null ? void 0 : (_route$params = route.params) == null ? void 0 : _route$params.dueDate) || \"\"),\n    _useState0 = _slicedToArray(_useState9, 2),\n    date = _useState0[0],\n    setDate = _useState0[1];\n  var _useAuth = useAuth(),\n    isPro = _useAuth.isPro;\n  var navigation = useNavigation();\n  useEffect(function () {\n    load();\n  }, []);\n  function load() {\n    return _load.apply(this, arguments);\n  }\n  function _load() {\n    _load = _asyncToGenerator(function* () {\n      var res = yield getPlants();\n      setPlants(res.data || []);\n    });\n    return _load.apply(this, arguments);\n  }\n  function save() {\n    return _save.apply(this, arguments);\n  }\n  function _save() {\n    _save = _asyncToGenerator(function* () {\n      yield createCustomTask({\n        plantId: plantId,\n        title: title,\n        description: desc,\n        dueDate: date\n      });\n      navigation.goBack();\n    });\n    return _save.apply(this, arguments);\n  }\n  return _jsxs(ScreenContainer, {\n    children: [_jsx(Text, {\n      style: styles.header,\n      children: \"New Task\"\n    }), _jsx(TextInput, {\n      placeholder: \"Task title\",\n      value: title,\n      onChangeText: setTitle,\n      style: styles.input\n    }), _jsx(TextInput, {\n      placeholder: \"Description\",\n      value: desc,\n      onChangeText: setDesc,\n      style: styles.input\n    }), _jsx(TextInput, {\n      placeholder: \"YYYY-MM-DD\",\n      value: date,\n      onChangeText: setDate,\n      style: styles.input\n    }), _jsx(Text, {\n      style: styles.sub,\n      children: \"Assign to plant:\"\n    }), plants.map(function (p) {\n      return _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return setPlantId(p._id);\n        },\n        style: [styles.plant, plantId === p._id && {\n          backgroundColor: \"#d1f7d6\"\n        }],\n        children: _jsx(Text, {\n          children: p.name\n        })\n      }, p._id);\n    }), !isPro && _jsxs(View, {\n      style: {\n        marginTop: 10,\n        backgroundColor: \"#FEF3C7\",\n        borderRadius: 8,\n        padding: 10\n      },\n      children: [_jsx(Text, {\n        style: {\n          color: \"#92400E\",\n          textAlign: \"center\",\n          fontSize: 14\n        },\n        children: \"Task creation is a Pro feature. Upgrade to Pro to add and schedule custom tasks for your grow.\"\n      }), _jsx(TouchableOpacity, {\n        style: {\n          marginTop: 8,\n          backgroundColor: \"#10B981\",\n          padding: 8,\n          borderRadius: 8\n        },\n        onPress: function onPress() {\n          return navigation.navigate(\"Subscription\");\n        },\n        children: _jsx(Text, {\n          style: {\n            color: \"white\",\n            textAlign: \"center\",\n            fontWeight: \"700\"\n          },\n          children: \"Upgrade to Pro\"\n        })\n      })]\n    }), _jsx(TouchableOpacity, {\n      style: [styles.saveBtn, !isPro && {\n        backgroundColor: \"#ccc\"\n      }],\n      onPress: isPro ? save : undefined,\n      disabled: !isPro,\n      children: _jsx(Text, {\n        style: [styles.saveText, !isPro && {\n          color: \"#888\"\n        }],\n        children: \"Create Task\"\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  header: {\n    fontSize: 26,\n    fontWeight: \"700\",\n    marginBottom: 12\n  },\n  input: {\n    backgroundColor: \"#eee\",\n    padding: 10,\n    borderRadius: 8,\n    marginBottom: 12\n  },\n  sub: {\n    marginTop: 10,\n    marginBottom: 6,\n    fontWeight: \"700\"\n  },\n  plant: {\n    padding: 10,\n    backgroundColor: \"white\",\n    borderRadius: 8,\n    marginBottom: 6\n  },\n  saveBtn: {\n    backgroundColor: \"#2ecc71\",\n    padding: 12,\n    borderRadius: 10,\n    marginTop: 20\n  },\n  saveText: {\n    color: \"white\",\n    fontWeight: \"700\",\n    textAlign: \"center\"\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","Text","TextInput","TouchableOpacity","StyleSheet","View","ScreenContainer","createCustomTask","getPlants","useAuth","useNavigation","jsx","_jsx","jsxs","_jsxs","CreateTaskScreen","_ref","_route$params","route","_useState","_useState2","_slicedToArray","plants","setPlants","_useState3","_useState4","plantId","setPlantId","_useState5","_useState6","title","setTitle","_useState7","_useState8","desc","setDesc","_useState9","params","dueDate","_useState0","date","setDate","_useAuth","isPro","navigation","load","_load","apply","arguments","_asyncToGenerator","res","data","save","_save","description","goBack","children","style","styles","header","placeholder","value","onChangeText","input","sub","map","p","onPress","_id","plant","backgroundColor","name","marginTop","borderRadius","padding","color","textAlign","fontSize","navigate","fontWeight","saveBtn","undefined","disabled","saveText","create","marginBottom"],"sources":["C:/GrowPathAI-UI/src/screens/CreateTaskScreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Text, TextInput, TouchableOpacity, StyleSheet, View } from \"react-native\";\nimport ScreenContainer from \"../components/ScreenContainer.js\";\nimport { createCustomTask } from \"../api/tasks.js\";\nimport { getPlants } from \"../api/plants.js\";\nimport { useAuth } from \"../context/AuthContext.js\";\nimport { useNavigation } from \"@react-navigation/native\";\n\nexport default function CreateTaskScreen({ route }) {\n  const [plants, setPlants] = useState([]);\n  const [plantId, setPlantId] = useState(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [desc, setDesc] = useState(\"\");\n  const [date, setDate] = useState(route?.params?.dueDate || \"\");\n  const { isPro } = useAuth();\n  const navigation = useNavigation();\n\n  useEffect(() => {\n    load();\n  }, []);\n\n  async function load() {\n    const res = await getPlants();\n    setPlants(res.data || []);\n  }\n\n  async function save() {\n    await createCustomTask({ plantId, title, description: desc, dueDate: date });\n    navigation.goBack();\n  }\n\n  return (\n    <ScreenContainer>\n      <Text style={styles.header}>New Task</Text>\n\n      <TextInput\n        placeholder=\"Task title\"\n        value={title}\n        onChangeText={setTitle}\n        style={styles.input}\n      />\n      <TextInput\n        placeholder=\"Description\"\n        value={desc}\n        onChangeText={setDesc}\n        style={styles.input}\n      />\n      <TextInput\n        placeholder=\"YYYY-MM-DD\"\n        value={date}\n        onChangeText={setDate}\n        style={styles.input}\n      />\n\n      <Text style={styles.sub}>Assign to plant:</Text>\n      {plants.map((p) => (\n        <TouchableOpacity\n          key={p._id}\n          onPress={() => setPlantId(p._id)}\n          style={[styles.plant, plantId === p._id && { backgroundColor: \"#d1f7d6\" }]}\n        >\n          <Text>{p.name}</Text>\n        </TouchableOpacity>\n      ))}\n\n      {!isPro && (\n        <View\n          style={{\n            marginTop: 10,\n            backgroundColor: \"#FEF3C7\",\n            borderRadius: 8,\n            padding: 10\n          }}\n        >\n          <Text style={{ color: \"#92400E\", textAlign: \"center\", fontSize: 14 }}>\n            Task creation is a Pro feature. Upgrade to Pro to add and schedule custom\n            tasks for your grow.\n          </Text>\n          <TouchableOpacity\n            style={{\n              marginTop: 8,\n              backgroundColor: \"#10B981\",\n              padding: 8,\n              borderRadius: 8\n            }}\n            onPress={() => navigation.navigate(\"Subscription\")}\n          >\n            <Text style={{ color: \"white\", textAlign: \"center\", fontWeight: \"700\" }}>\n              Upgrade to Pro\n            </Text>\n          </TouchableOpacity>\n        </View>\n      )}\n      <TouchableOpacity\n        style={[styles.saveBtn, !isPro && { backgroundColor: \"#ccc\" }]}\n        onPress={isPro ? save : undefined}\n        disabled={!isPro}\n      >\n        <Text style={[styles.saveText, !isPro && { color: \"#888\" }]}>Create Task</Text>\n      </TouchableOpacity>\n    </ScreenContainer>\n  );\n}\n\nconst styles = StyleSheet.create({\n  header: { fontSize: 26, fontWeight: \"700\", marginBottom: 12 },\n  input: { backgroundColor: \"#eee\", padding: 10, borderRadius: 8, marginBottom: 12 },\n  sub: { marginTop: 10, marginBottom: 6, fontWeight: \"700\" },\n  plant: { padding: 10, backgroundColor: \"white\", borderRadius: 8, marginBottom: 6 },\n  saveBtn: { backgroundColor: \"#2ecc71\", padding: 12, borderRadius: 10, marginTop: 20 },\n  saveText: { color: \"white\", fontWeight: \"700\", textAlign: \"center\" }\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}