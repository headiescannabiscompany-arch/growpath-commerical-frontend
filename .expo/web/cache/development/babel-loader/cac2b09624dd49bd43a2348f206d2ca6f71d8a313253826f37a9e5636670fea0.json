{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { client as api } from \"./client\";\nexport function login(_x, _x2) {\n  return _login.apply(this, arguments);\n}\nfunction _login() {\n  _login = _asyncToGenerator(function* (email, password) {\n    var data = yield api(\"/api/auth/login\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        email: email,\n        password: password\n      })\n    });\n    global.authToken = data.token;\n    global.user = data.user;\n    return data.user;\n  });\n  return _login.apply(this, arguments);\n}\nexport function signup(_x3, _x4, _x5) {\n  return _signup.apply(this, arguments);\n}\nfunction _signup() {\n  _signup = _asyncToGenerator(function* (email, password, displayName) {\n    var data = yield api(\"/api/auth/signup\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        email: email,\n        password: password,\n        displayName: displayName\n      })\n    });\n    global.authToken = data.token;\n    global.user = data.user;\n    return data.user;\n  });\n  return _signup.apply(this, arguments);\n}\nexport function becomeCreator() {\n  return _becomeCreator.apply(this, arguments);\n}\nfunction _becomeCreator() {\n  _becomeCreator = _asyncToGenerator(function* () {\n    var data = yield api(\"/api/auth/become-creator\", {\n      method: \"POST\"\n    });\n    if (data.role) {\n      global.user.role = data.role;\n    }\n    return data;\n  });\n  return _becomeCreator.apply(this, arguments);\n}","map":{"version":3,"names":["client","api","login","_x","_x2","_login","apply","arguments","_asyncToGenerator","email","password","data","method","body","JSON","stringify","global","authToken","token","user","signup","_x3","_x4","_x5","_signup","displayName","becomeCreator","_becomeCreator","role"],"sources":["C:/GrowPathAI-UI/src/api/auth.js"],"sourcesContent":["import { client as api } from \"./client\";\n\nexport async function login(email, password) {\n  const data = await api(\"/api/auth/login\", {\n    method: \"POST\",\n    body: JSON.stringify({ email, password })\n  });\n\n  global.authToken = data.token;\n  global.user = data.user;\n  return data.user;\n}\n\nexport async function signup(email, password, displayName) {\n  const data = await api(\"/api/auth/signup\", {\n    method: \"POST\",\n    body: JSON.stringify({ email, password, displayName })\n  });\n\n  global.authToken = data.token;\n  global.user = data.user;\n  return data.user;\n}\n\nexport async function becomeCreator() {\n  const data = await api(\"/api/auth/become-creator\", {\n    method: \"POST\"\n  });\n\n  if (data.role) {\n    global.user.role = data.role;\n  }\n\n  return data;\n}\n"],"mappings":";AAAA,SAASA,MAAM,IAAIC,GAAG;AAEtB,gBAAsBC,KAAKA,CAAAC,EAAA,EAAAC,GAAA;EAAA,OAAAC,MAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAS1B,SAAAF,OAAA;EAAAA,MAAA,GAAAG,iBAAA,CATM,WAAqBC,KAAK,EAAEC,QAAQ,EAAE;IAC3C,IAAMC,IAAI,SAASV,GAAG,CAAC,iBAAiB,EAAE;MACxCW,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEN,KAAK,EAALA,KAAK;QAAEC,QAAQ,EAARA;MAAS,CAAC;IAC1C,CAAC,CAAC;IAEFM,MAAM,CAACC,SAAS,GAAGN,IAAI,CAACO,KAAK;IAC7BF,MAAM,CAACG,IAAI,GAAGR,IAAI,CAACQ,IAAI;IACvB,OAAOR,IAAI,CAACQ,IAAI;EAClB,CAAC;EAAA,OAAAd,MAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAED,gBAAsBa,MAAMA,CAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA;EAAA,OAAAC,OAAA,CAAAlB,KAAA,OAAAC,SAAA;AAAA;AAS3B,SAAAiB,QAAA;EAAAA,OAAA,GAAAhB,iBAAA,CATM,WAAsBC,KAAK,EAAEC,QAAQ,EAAEe,WAAW,EAAE;IACzD,IAAMd,IAAI,SAASV,GAAG,CAAC,kBAAkB,EAAE;MACzCW,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEN,KAAK,EAALA,KAAK;QAAEC,QAAQ,EAARA,QAAQ;QAAEe,WAAW,EAAXA;MAAY,CAAC;IACvD,CAAC,CAAC;IAEFT,MAAM,CAACC,SAAS,GAAGN,IAAI,CAACO,KAAK;IAC7BF,MAAM,CAACG,IAAI,GAAGR,IAAI,CAACQ,IAAI;IACvB,OAAOR,IAAI,CAACQ,IAAI;EAClB,CAAC;EAAA,OAAAK,OAAA,CAAAlB,KAAA,OAAAC,SAAA;AAAA;AAED,gBAAsBmB,aAAaA,CAAA;EAAA,OAAAC,cAAA,CAAArB,KAAA,OAAAC,SAAA;AAAA;AAUlC,SAAAoB,eAAA;EAAAA,cAAA,GAAAnB,iBAAA,CAVM,aAA+B;IACpC,IAAMG,IAAI,SAASV,GAAG,CAAC,0BAA0B,EAAE;MACjDW,MAAM,EAAE;IACV,CAAC,CAAC;IAEF,IAAID,IAAI,CAACiB,IAAI,EAAE;MACbZ,MAAM,CAACG,IAAI,CAACS,IAAI,GAAGjB,IAAI,CAACiB,IAAI;IAC9B;IAEA,OAAOjB,IAAI;EACb,CAAC;EAAA,OAAAgB,cAAA,CAAArB,KAAA,OAAAC,SAAA;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}