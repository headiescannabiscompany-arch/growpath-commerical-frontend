{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nexport var mapNotificationResponse = function mapNotificationResponse(response) {\n  return _objectSpread(_objectSpread({}, response), {}, {\n    notification: mapNotification(response.notification)\n  });\n};\nexport var mapNotification = function mapNotification(notification) {\n  return _objectSpread(_objectSpread({}, notification), {}, {\n    request: mapNotificationRequest(notification.request)\n  });\n};\nexport var mapNotificationRequest = function mapNotificationRequest(request) {\n  return _objectSpread(_objectSpread({}, request), {}, {\n    content: mapNotificationContent(request.content)\n  });\n};\nvar didWarn = false;\nexport var mapNotificationContent = function mapNotificationContent(content) {\n  try {\n    var dataString = content['dataString'];\n    if (typeof dataString === 'string') {\n      var mappedContent = _objectSpread({}, content);\n      mappedContent.data = JSON.parse(dataString);\n      Object.defineProperty(mappedContent, 'dataString', {\n        get: function get() {\n          if (!didWarn) {\n            didWarn = true;\n            console.warn('reading dataString is deprecated, use data instead');\n          }\n          return dataString;\n        }\n      });\n      return mappedContent;\n    }\n  } catch (e) {\n    console.error(`Error parsing notification: ${e}`);\n  }\n  return content;\n};","map":{"version":3,"names":["mapNotificationResponse","response","_objectSpread","notification","mapNotification","request","mapNotificationRequest","content","mapNotificationContent","didWarn","dataString","mappedContent","data","JSON","parse","Object","defineProperty","get","console","warn","e","error"],"sources":["C:\\GrowPathAI-UI\\node_modules\\expo-notifications\\src\\utils\\mapNotificationResponse.ts"],"sourcesContent":["import {\n  Notification,\n  NotificationContent,\n  NotificationRequest,\n  NotificationResponse,\n} from '../Notifications.types';\n\n/**\n * @hidden\n *\n * Does any required processing of a notification response from native code\n * before it is passed to a notification response listener, or to the\n * last notification response hook.\n *\n * @param response The raw response passed in from native code\n * @returns the mapped response.\n */\nexport const mapNotificationResponse = (response: NotificationResponse) => {\n  return {\n    ...response,\n    notification: mapNotification(response.notification),\n  };\n};\n\n/**\n * @hidden\n *\n * Does any required processing of a notification from native code\n * before it is passed to a notification listener.\n *\n * @param notification The raw notification passed in from native code\n * @returns the mapped notification.\n */\nexport const mapNotification = (notification: Notification) => ({\n  ...notification,\n  request: mapNotificationRequest(notification.request),\n});\n\n/**\n * @hidden\n *\n * Does any required processing of a notification request from native code\n * before it is passed to other JS code.\n *\n * @param request The raw request passed in from native code\n * @returns the mapped request.\n */\nexport const mapNotificationRequest = (request: NotificationRequest) => ({\n  ...request,\n  content: mapNotificationContent(request.content),\n});\n\nlet didWarn = false;\n/**\n * @hidden\n * Does any required processing of notification content from native code\n * before being passed to other JS code.\n *\n * @param content The raw content passed in from native code\n * @returns the mapped content.\n */\nexport const mapNotificationContent = (content: NotificationContent) => {\n  try {\n    // @ts-expect-error: TODO(@kitten): This is not present in the types! This is error prone\n    const dataString = content['dataString'];\n    if (typeof dataString === 'string') {\n      const mappedContent: NotificationContent & { dataString?: string } = { ...content };\n      mappedContent.data = JSON.parse(dataString);\n      Object.defineProperty(mappedContent, 'dataString', {\n        get() {\n          if (!didWarn) {\n            didWarn = true;\n            // TODO(vonovak) remove this warning and delete dataString entry in a next version\n            console.warn('reading dataString is deprecated, use data instead');\n          }\n          return dataString;\n        },\n      });\n      return mappedContent;\n    }\n  } catch (e: any) {\n    console.error(`Error parsing notification: ${e}`);\n  }\n  return content;\n};\n"],"mappings":";;;AAiBA,OAAO,IAAMA,uBAAuB,GAAG,SAA1BA,uBAAuBA,CAAIC,QAA8B,EAAI;EACxE,OAAAC,aAAA,CAAAA,aAAA,KACKD,QAAQ;IACXE,YAAY,EAAEC,eAAe,CAACH,QAAQ,CAACE,YAAY;EAAC;AAExD,CAAC;AAWD,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAAID,YAA0B;EAAA,OAAAD,aAAA,CAAAA,aAAA,KACrDC,YAAY;IACfE,OAAO,EAAEC,sBAAsB,CAACH,YAAY,CAACE,OAAO;EAAC;AAAA,CACrD;AAWF,OAAO,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAID,OAA4B;EAAA,OAAAH,aAAA,CAAAA,aAAA,KAC9DG,OAAO;IACVE,OAAO,EAAEC,sBAAsB,CAACH,OAAO,CAACE,OAAO;EAAC;AAAA,CAChD;AAEF,IAAIE,OAAO,GAAG,KAAK;AASnB,OAAO,IAAMD,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAID,OAA4B,EAAI;EACrE,IAAI;IAEF,IAAMG,UAAU,GAAGH,OAAO,CAAC,YAAY,CAAC;IACxC,IAAI,OAAOG,UAAU,KAAK,QAAQ,EAAE;MAClC,IAAMC,aAAa,GAAAT,aAAA,KAAuDK,OAAO,CAAE;MACnFI,aAAa,CAACC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACJ,UAAU,CAAC;MAC3CK,MAAM,CAACC,cAAc,CAACL,aAAa,EAAE,YAAY,EAAE;QACjDM,GAAG,WAAHA,GAAGA,CAAA;UACD,IAAI,CAACR,OAAO,EAAE;YACZA,OAAO,GAAG,IAAI;YAEdS,OAAO,CAACC,IAAI,CAAC,oDAAoD,CAAC;UACpE;UACA,OAAOT,UAAU;QACnB;OACD,CAAC;MACF,OAAOC,aAAa;IACtB;EACF,CAAC,CAAC,OAAOS,CAAM,EAAE;IACfF,OAAO,CAACG,KAAK,CAAC,+BAA+BD,CAAC,EAAE,CAAC;EACnD;EACA,OAAOb,OAAO;AAChB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}