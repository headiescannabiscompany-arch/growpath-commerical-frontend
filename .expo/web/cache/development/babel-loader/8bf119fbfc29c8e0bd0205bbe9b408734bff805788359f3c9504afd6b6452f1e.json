{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScreenContainer from \"../components/ScreenContainer\";\nimport { getDiagnosisHistory } from \"../api/diagnose\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function DiagnosisHistoryScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    items = _useState2[0],\n    setItems = _useState2[1];\n  useEffect(function () {\n    load();\n  }, []);\n  function load() {\n    return _load.apply(this, arguments);\n  }\n  function _load() {\n    _load = _asyncToGenerator(function* () {\n      try {\n        var res = yield getDiagnosisHistory();\n        setItems(res.data || res);\n      } catch (err) {}\n    });\n    return _load.apply(this, arguments);\n  }\n  function renderItem(_ref2) {\n    var item = _ref2.item;\n    return _jsxs(TouchableOpacity, {\n      style: styles.card,\n      onPress: function onPress() {\n        return navigation.navigate(\"DiagnoseScreen\", {\n          notes: item.notes,\n          photos: item.photos\n        });\n      },\n      children: [_jsx(Text, {\n        style: styles.title,\n        children: item.issueSummary || \"Diagnosis\"\n      }), _jsx(Text, {\n        style: styles.sub,\n        children: new Date(item.createdAt).toLocaleString()\n      }), _jsxs(Text, {\n        style: styles.sub,\n        children: [\"Severity: \", item.severity, \"/5\"]\n      })]\n    });\n  }\n  return _jsxs(ScreenContainer, {\n    children: [_jsx(Text, {\n      style: styles.header,\n      children: \"Diagnosis History\"\n    }), _jsx(FlatList, {\n      data: items,\n      keyExtractor: function keyExtractor(i) {\n        return i._id;\n      },\n      renderItem: renderItem,\n      contentContainerStyle: {\n        paddingBottom: 40\n      }\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  header: {\n    fontSize: 24,\n    fontWeight: \"700\",\n    marginBottom: 12\n  },\n  card: {\n    backgroundColor: \"#fff\",\n    borderRadius: 10,\n    padding: 12,\n    marginBottom: 10\n  },\n  title: {\n    fontSize: 16,\n    fontWeight: \"600\"\n  },\n  sub: {\n    color: \"#777\",\n    marginTop: 2\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","View","Text","TouchableOpacity","FlatList","StyleSheet","ScreenContainer","getDiagnosisHistory","jsx","_jsx","jsxs","_jsxs","DiagnosisHistoryScreen","_ref","navigation","_useState","_useState2","_slicedToArray","items","setItems","load","_load","apply","arguments","_asyncToGenerator","res","data","err","renderItem","_ref2","item","style","styles","card","onPress","navigate","notes","photos","children","title","issueSummary","sub","Date","createdAt","toLocaleString","severity","header","keyExtractor","i","_id","contentContainerStyle","paddingBottom","create","fontSize","fontWeight","marginBottom","backgroundColor","borderRadius","padding","color","marginTop"],"sources":["C:/GrowPathAI-UI/src/screens/DiagnosisHistoryScreen.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { View, Text, TouchableOpacity, FlatList, StyleSheet } from \"react-native\";\nimport ScreenContainer from \"../components/ScreenContainer\";\nimport { getDiagnosisHistory } from \"../api/diagnose\";\n\nexport default function DiagnosisHistoryScreen({ navigation }) {\n  const [items, setItems] = useState([]);\n\n  useEffect(() => {\n    load();\n  }, []);\n\n  async function load() {\n    try {\n      const res = await getDiagnosisHistory();\n      setItems(res.data || res);\n    } catch (err) {\n      // Failed to load history\n    }\n  }\n\n  function renderItem({ item }) {\n    return (\n      <TouchableOpacity\n        style={styles.card}\n        onPress={() =>\n          navigation.navigate(\"DiagnoseScreen\", {\n            notes: item.notes,\n            photos: item.photos\n          })\n        }\n      >\n        <Text style={styles.title}>{item.issueSummary || \"Diagnosis\"}</Text>\n        <Text style={styles.sub}>{new Date(item.createdAt).toLocaleString()}</Text>\n        <Text style={styles.sub}>Severity: {item.severity}/5</Text>\n      </TouchableOpacity>\n    );\n  }\n\n  return (\n    <ScreenContainer>\n      <Text style={styles.header}>Diagnosis History</Text>\n\n      <FlatList\n        data={items}\n        keyExtractor={(i) => i._id}\n        renderItem={renderItem}\n        contentContainerStyle={{ paddingBottom: 40 }}\n      />\n    </ScreenContainer>\n  );\n}\n\nconst styles = StyleSheet.create({\n  header: {\n    fontSize: 24,\n    fontWeight: \"700\",\n    marginBottom: 12\n  },\n  card: {\n    backgroundColor: \"#fff\",\n    borderRadius: 10,\n    padding: 12,\n    marginBottom: 10\n  },\n  title: {\n    fontSize: 16,\n    fontWeight: \"600\"\n  },\n  sub: {\n    color: \"#777\",\n    marginTop: 2\n  }\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}