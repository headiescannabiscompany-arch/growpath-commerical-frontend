{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport ScreenContainer from \"../components/ScreenContainer\";\nimport { uploadLabel } from \"../api/feeding\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function FeedingLabelScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    photo = _useState2[0],\n    setPhoto = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  function pick() {\n    return _pick.apply(this, arguments);\n  }\n  function _pick() {\n    _pick = _asyncToGenerator(function* () {\n      var result = yield ImagePicker.launchImageLibraryAsync({\n        quality: 1\n      });\n      if (!result.canceled) setPhoto(result.assets[0].uri);\n    });\n    return _pick.apply(this, arguments);\n  }\n  function extract() {\n    return _extract.apply(this, arguments);\n  }\n  function _extract() {\n    _extract = _asyncToGenerator(function* () {\n      setLoading(true);\n      var res = yield uploadLabel(photo);\n      setLoading(false);\n      navigation.navigate(\"FeedingConfirm\", {\n        nutrientData: res.data.nutrientData\n      });\n    });\n    return _extract.apply(this, arguments);\n  }\n  return _jsxs(ScreenContainer, {\n    children: [_jsx(Text, {\n      style: {\n        fontSize: 26,\n        fontWeight: \"700\"\n      },\n      children: \"Scan Nutrient Label\"\n    }), _jsx(TouchableOpacity, {\n      style: {\n        marginTop: 16,\n        padding: 12,\n        backgroundColor: \"#3498db\",\n        borderRadius: 8\n      },\n      onPress: pick,\n      children: _jsx(Text, {\n        style: {\n          color: \"white\",\n          textAlign: \"center\"\n        },\n        children: \"Select Label Photo\"\n      })\n    }), photo && _jsx(Image, {\n      source: {\n        uri: photo\n      },\n      style: {\n        width: \"100%\",\n        height: 260,\n        borderRadius: 12,\n        marginTop: 20\n      }\n    }), photo && !loading && _jsx(TouchableOpacity, {\n      style: {\n        marginTop: 20,\n        padding: 12,\n        backgroundColor: \"#2ecc71\",\n        borderRadius: 8\n      },\n      onPress: extract,\n      children: _jsx(Text, {\n        style: {\n          color: \"white\",\n          textAlign: \"center\"\n        },\n        children: \"Extract Nutrients\"\n      })\n    }), loading && _jsx(ActivityIndicator, {\n      size: \"large\",\n      color: \"#2ecc71\"\n    })]\n  });\n}","map":{"version":3,"names":["React","useState","Text","TouchableOpacity","Image","ActivityIndicator","ImagePicker","ScreenContainer","uploadLabel","jsx","_jsx","jsxs","_jsxs","FeedingLabelScreen","_ref","navigation","_useState","_useState2","_slicedToArray","photo","setPhoto","_useState3","_useState4","loading","setLoading","pick","_pick","apply","arguments","_asyncToGenerator","result","launchImageLibraryAsync","quality","canceled","assets","uri","extract","_extract","res","navigate","nutrientData","data","children","style","fontSize","fontWeight","marginTop","padding","backgroundColor","borderRadius","onPress","color","textAlign","source","width","height","size"],"sources":["C:/GrowPathAI-UI/src/screens/FeedingLabelScreen.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Text, TouchableOpacity, Image, ActivityIndicator } from \"react-native\";\r\nimport * as ImagePicker from \"expo-image-picker\";\r\nimport ScreenContainer from \"../components/ScreenContainer\";\r\nimport { uploadLabel } from \"../api/feeding\";\r\n\r\nexport default function FeedingLabelScreen({ navigation }) {\r\n  const [photo, setPhoto] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  async function pick() {\r\n    const result = await ImagePicker.launchImageLibraryAsync({ quality: 1 });\r\n    if (!result.canceled) setPhoto(result.assets[0].uri);\r\n  }\r\n\r\n  async function extract() {\r\n    setLoading(true);\r\n    const res = await uploadLabel(photo);\r\n    setLoading(false);\r\n    navigation.navigate(\"FeedingConfirm\", { nutrientData: res.data.nutrientData });\r\n  }\r\n\r\n  return (\r\n    <ScreenContainer>\r\n      <Text style={{ fontSize: 26, fontWeight: \"700\" }}>Scan Nutrient Label</Text>\r\n\r\n      <TouchableOpacity style={{ marginTop: 16, padding: 12, backgroundColor: \"#3498db\", borderRadius: 8 }} onPress={pick}>\r\n        <Text style={{ color: \"white\", textAlign: \"center\" }}>Select Label Photo</Text>\r\n      </TouchableOpacity>\r\n\r\n      {photo && <Image source={{ uri: photo }} style={{ width: \"100%\", height: 260, borderRadius: 12, marginTop: 20 }} />}\r\n\r\n      {photo && !loading && (\r\n        <TouchableOpacity style={{ marginTop: 20, padding: 12, backgroundColor: \"#2ecc71\", borderRadius: 8 }} onPress={extract}>\r\n          <Text style={{ color: \"white\", textAlign: \"center\" }}>Extract Nutrients</Text>\r\n        </TouchableOpacity>\r\n      )}\r\n\r\n      {loading && <ActivityIndicator size=\"large\" color=\"#2ecc71\" />}\r\n    </ScreenContainer>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}